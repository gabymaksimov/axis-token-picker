<style>
  body {
    font-family: "Inter", sans-serif;
    padding: 24px;
    background-color: #f3f5f7;
    color: #202020; /* text color */
  }

  h1 {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 32px;
  }

  /* Container for the two divs */
  .outer {
    display: flex;
    gap: 64px;
    align-items: flex-start;
  }
  /* styling for left and right containers */
  #left,
  #right {
    flex: 1;
    min-width: 0;
  }

  #questionButton {
    background-color: #ffffff;
    border: none;
    box-shadow: 0px 4px 8px 0px rgba(32, 32, 32, 0.16);
    border-radius: 8px;
    padding: 24px;
    width: 100%;

    /* Text */
    font-size: 18px;
    font-weight: 600;
    color: #202020;
    text-align: left;
    font-family: inherit;
  }

  .answerButton {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 24px;
    width: 100%;
    margin: 0;
    margin-bottom: 16px;
    box-sizing: border-box;

    /* text styling*/
    font-size: 18px;
    font-weight: 600;
    color: #202020;
    text-align: left;
    font-family: inherit;
  }

  .answerButton:hover {
    background-color: #f8f8f8;
    border-color: #cccccc;
  }

  .answerButton:hover,
  .answerButton:focus {
    outline: none;
    box-shadow: 0px 4px 8px 0px rgba(32, 32, 32, 0.16);
  }

  .nonClicableButtonQuestion h3 {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 24px;
    width: 100%;
    margin: 0;
    margin-bottom: 16px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between;
    align-items: center;

    font-size: 16px;
    font-weight: 600;
    color: #202020;
    text-align: left;
    font-family: inherit;
  }

  .selectedAnswer {
    font-weight: 400;
    font-size: 16px;
    color: #202020;
    overflow: hidden;
    flex-shrink: 0;
    text-align: right;
    align-items: center;
    display: inline-flex;
  }

  /* Span containing the actual question text */
  .questionText {
    overflow: hidden;
    white-space: normal;
    display: inline-flex;
    align-items: center;
  }

  #backButton {
    background-color: #562672;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 8px 16px;
    font-family: inherit;
    font-size: 16px;
    font-weight: 600;
    min-height: 48px;
    min-width: 64px;
    margin-bottom: 16px;
    box-sizing: border-box;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  #backbutton:hover {
    background-color: #5a6268;
  }

  .hidden {
    display: none;
  }

  .visible {
    display: block;
  }

  /* Responsive adjustments for wider screens */
  @media (min-width: 768px) {
    .outer {
      flex-direction: row; /* Side-by-side columns */
      gap: 64px; /* Original gap */
      align-items: flex-start; /* Align to top */
    }
    .nonClicableButtonQuestion h3 {
      font-size: 18px; /* Restore original font size */
    }
    .answerButton {
      font-size: 18px; /* Restore original font size */
    }
    .selectedAnswer {
      font-size: 16px; /* Restore original font size */
    }
  }
</style>

<!-- title -->
<h1>Axis Token Picker</h1>

<!-- left side here -->
<div id="outer" class="outer">
  <div id="left">
    <button id="backButton" class="hidden">Go Back</button>
    <div id="questionLevel1" class="visible nonClicableButtonQuestion">
      <h3>
        <span class="questionText">What is the color used for?</span>
        <span class="selectedAnswer hidden"></span>
      </h3>
    </div>

    <div id="questionLevel2" class="hidden nonClicableButtonQuestion">
      <h3>
        <span class="questionText"> What kind of text?</span>
        <span class="selectedAnswer hidden"></span>
      </h3>
    </div>

    <div id="questionLevel3" class="hidden nonClicableButtonQuestion">
      <h3>
        <span class="questionText">What's the purpose of the text?</span>
        <span class="selectedAnswer hidden"></span>
      </h3>
    </div>
  </div>

  <!-- right side here -->
  <div id="right" class="">
    <div id="answerLevel1" class="visible">
      <button id="" class="answerButton">Text</button>
      <button id="" class="answerButton">Background</button>
      <button id="" class="answerButton">Icon</button>
      <button id="" class="answerButton">Border</button>
      <button id="" class="answerButton">Data vis or Chart</button>
      <button id="" class="answerButton">Shadow</button>
    </div>
    <div id="answerLevel2" class="hidden">
      <button id="" class="answerButton">Neutral</button>
      <button id="" class="answerButton">Coloured</button>
      <button id="" class="answerButton">Link</button>
    </div>
    <div id="answerLevel3" class="hidden">
      <button id="" class="answerButton">Default</button>
      <button id="" class="answerButton">Subtle</button>
      <button id="" class="answerButton">Disabled</button>
      <button id="" class="answerButton">
        Inversed (Used on bold backgrounds)
      </button>
    </div>
  </div>
</div>

<script>
  //Waits for the HTMl to fully load
  document.addEventListener("DOMContentLoaded", () => {
    // Text tokens question blocks
    const questionLevel1 = document.getElementById("questionLevel1");
    const questionLevel2 = document.getElementById("questionLevel2");
    const questionLevel3 = document.getElementById("questionLevel3");

    // Text answer blocks
    const answerLevel1 = document.getElementById("answerLevel1");
    const answerLevel2 = document.getElementById("answerLevel2");
    const answerLevel3 = document.getElementById("answerLevel3");

    // spans to show selected answers
    const question1AnswerSpan =
      questionLevel1?.querySelector(".selectedAnswer");
    const question2AnswerSpan =
      questionLevel2?.querySelector(".selectedAnswer");
    const question3AnswerSpan =
      questionLevel3?.querySelector(".selectedAnswer");

    // Helper function to manage visibility classes
    function setVisibility(element, show) {
      if (element) {
        if (show) {
          element.classList.remove("hidden");
          element.classList.add("visible");
        } else {
          element.classList.add("hidden");
          element.classList.remove("visible");
        }
      }
    }

    // Back button
    const backButton = document.getElementById("backButton");

    // --- Listen for selection in answer level 1 ---
    if (answerLevel1) {
      answerLevel1.addEventListener("click", function (event) {
        // check if clicked element is an answer button
        if (event.target.classList.contains("answerButton")) {
          const selectedAnswerText = event.target.textContent;

          if (question1AnswerSpan) {
            // Put the chosen text into that span
            question1AnswerSpan.textContent = `- ${selectedAnswerText}`;
            setVisibility(question1AnswerSpan, true);
          } else {
            console.error(
              "Could not find the .selectedAnswer span in questionLevel1"
            );
          }

          // Hide Level 1 answers
          setVisibility(answerLevel1, false);
          // Show Question 2
          setVisibility(questionLevel2, true);
          // Show Level 2 answers
          setVisibility(answerLevel2, true);
          // Show the Back button
          setVisibility(backButton, true);
        }
      });
    } else {
      console.error("Could not find element with ID 'answerLevel1'");
    }

    // --- Event Listener for Level 2 Answers ---
    if (answerLevel2) {
      answerLevel2.addEventListener("click", function (event) {
        if (event.target.classList.contains("answerButton")) {
          const selectedAnswerText = event.target.textContent;

          // Display the selected answer in Question 2's span
          if (question2AnswerSpan) {
            question2AnswerSpan.textContent = `- ${selectedAnswerText}`;
            setVisibility(question2AnswerSpan, true);
          } else {
            console.error(
              "Could not find the .selectedAnswer span in questionLevel2"
            );
          }

          // Hide Level 2 answers
          setVisibility(answerLevel2, false);
          // Show Question 3
          setVisibility(questionLevel3, true);
          // Show Level 3 answers
          setVisibility(answerLevel3, true);
          // Keep Back button visible
          setVisibility(backButton, true); // Ensure it stays visible
        }
      });
    } else {
      console.error("Could not find element with ID 'answerLevel2'");
    }

    // --- Event Listener for Level 3 Answers ---
    if (answerLevel3) {
      answerLevel3.addEventListener("click", function (event) {
        if (event.target.classList.contains("answerButton")) {
          const selectedAnswerText = event.target.textContent;

          // Display the selected answer in Question 3's span
          if (question3AnswerSpan) {
            question3AnswerSpan.textContent = `- ${selectedAnswerText}`;
            setVisibility(question3AnswerSpan, true);
          } else {
            console.error(
              "Could not find the .selectedAnswer span in questionLevel3"
            );
          }

          // Hide Level 3 answers (or perform final action)
          setVisibility(answerLevel3, false);

          // Example: Log the final selections or send data
          console.log("Final Selection Path:");
          console.log(
            "Level 1:",
            question1AnswerSpan?.textContent.substring(2)
          ); // Remove '- '
          console.log(
            "Level 2:",
            question2AnswerSpan?.textContent.substring(2)
          );
          console.log(
            "Level 3:",
            question3AnswerSpan?.textContent.substring(2)
          );

          // Keep Back button visible for now, or hide if this is the end
          // setVisibility(backButton, false);
        }
      });
    } else {
      console.error("Could not find element with ID 'answerLevel3'");
    }

    // --- Event Listener for the Back Button ---
    if (backButton) {
      backButton.addEventListener("click", () => {
        // Determine the current visible level by checking answer visibility
        const isLevel3Visible =
          !answerLevel3.classList.contains("hidden") ||
          !questionLevel3.classList.contains("hidden");
        const isLevel2Visible =
          !answerLevel2.classList.contains("hidden") ||
          !questionLevel2.classList.contains("hidden");

        // --- Actions for going back from Level 3 to Level 2 ---
        if (isLevel3Visible) {
          // Hide Level 3 question and answers
          setVisibility(questionLevel3, false);
          setVisibility(answerLevel3, false);
          // Clear and hide Level 2 selected answer span
          if (question2AnswerSpan) {
            question2AnswerSpan.textContent = "";
            setVisibility(question2AnswerSpan, false);
          }
          // Show Level 2 answers
          setVisibility(answerLevel2, true);
          // Keep Back button visible
          setVisibility(backButton, true);
        }
        // --- Actions for going back from Level 2 to Level 1 ---
        else if (isLevel2Visible) {
          // Hide Level 2 question and answers
          setVisibility(questionLevel2, false);
          setVisibility(answerLevel2, false);
          // Clear and hide Level 1 selected answer span
          if (question1AnswerSpan) {
            question1AnswerSpan.textContent = "";
            setVisibility(question1AnswerSpan, false);
          }
          // Show Level 1 answers
          setVisibility(answerLevel1, true);
          // Hide the Back button (back at the start)
          setVisibility(backButton, false);
        }
      });
    } else {
      console.error("Could not find element with ID 'backButton'");
    }
  });
</script>
