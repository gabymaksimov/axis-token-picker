<style>
  body {
    font-family: "Inter", sans-serif;
    padding: 24px;
    background-color: #f3f5f7;
    color: #202020; /* text color */
  }

  h1 {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 32px;
  }

  /* Container for the two divs */
  .outer {
    display: flex;
    gap: 64px;
    align-items: flex-start;
  }
  /* styling for left and right containers */
  #left,
  #right {
    flex: 1;
    min-width: 0;
  }

  #questionButton {
    background-color: #ffffff;
    border: none;
    box-shadow: 0px 4px 8px 0px rgba(32, 32, 32, 0.16);
    border-radius: 8px;
    padding: 24px;
    width: 100%;

    /* Text */
    font-size: 18px;
    font-weight: 600;
    color: #202020;
    text-align: left;
    font-family: inherit;
  }

  .answerButton {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 24px;
    width: 100%;
    margin: 0;
    margin-bottom: 16px;
    box-sizing: border-box;

    /* text styling*/
    font-size: 18px;
    font-weight: 600;
    color: #202020;
    text-align: left;
    font-family: inherit;
  }

  .answerButton:hover {
    background-color: #f8f8f8;
    border-color: #cccccc;
  }

  .answerButton:hover,
  .answerButton:focus {
    outline: none;
    box-shadow: 0px 4px 8px 0px rgba(32, 32, 32, 0.16);
  }

  .nonClicableButtonQuestion h3 {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 24px;
    width: 100%;
    margin: 0;
    margin-bottom: 16px;
    box-sizing: border-box;
    display: flex;
    justify-content: space-between;
    align-items: center;

    font-size: 16px;
    font-weight: 600;
    color: #202020;
    text-align: left;
    font-family: inherit;
  }

  .selectedAnswer {
    font-weight: 400;
    font-size: 16px;
    color: #202020;
    overflow: hidden;
    flex-shrink: 0;
    text-align: right;
    align-items: center;
    display: inline-flex;
  }

  /* Span containing the actual question text */
  .questionText {
    overflow: hidden;
    white-space: normal;
    display: inline-flex;
    align-items: center;
  }

  .hidden {
    display: none;
  }

  .visible {
    display: block;
  }

  /* Reset button style */
  #resetButton {
    background-color: #ffffff;
    color: #202020;
    border: 1px solid #562672;
    border-radius: 8px;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease, box-shadow 0.3s ease,
      border-color 0.3s ease;
    margin-top: 0;
    text-align: center;
    width: 200px;
    position: absolute;
    top: 24px;
    right: 24px;
  }

  #resetButton:hover {
    background-color: #ffffff;
    border-color: #411d56;
    box-shadow: 0px 2px 4px 0px rgba(32, 32, 32, 0.08);
  }

  /* Responsive adjustments for wider screens */
  @media (min-width: 768px) {
    .outer {
      flex-direction: row; /* Side-by-side columns */
      gap: 64px; /* Original gap */
      align-items: flex-start; /* Align to top */
    }
    .nonClicableButtonQuestion h3 {
      font-size: 18px; /* Restore original font size */
    }
    .answerButton {
      font-size: 18px; /* Restore original font size */
    }
    .selectedAnswer {
      font-size: 16px; /* Restore original font size */
    }
  }
</style>

<!-- title -->
<h1>Axis Token Picker</h1>
<button id="resetButton">Reset</button>
<!-- left side here -->
<div id="outer" class="outer">
  <div id="left">
    <div id="questionLevel1" class="visible nonClicableButtonQuestion">
      <h3 id="questionButton1">
        <span class="questionText">What is the color used for?</span>
        <span class="selectedAnswer hidden"></span>
      </h3>
    </div>

    <div id="questionLevel2" class="hidden nonClicableButtonQuestion">
      <h3 id="questionButton2">
        <span class="questionText"> What kind of text?</span>
        <span class="selectedAnswer hidden"></span>
      </h3>
    </div>

    <div id="questionLevel3" class="hidden nonClicableButtonQuestion">
      <h3 id="questionButton3">
        <span class="questionText">What's the purpose of the text?</span>
        <span class="selectedAnswer hidden"></span>
      </h3>
    </div>
  </div>

  <!-- right side here -->
  <div id="right" class="">
    <div id="answerLevel1" class="visible">
      <button id="" class="answerButton">Text</button>
    </div>
    <div id="answerLevel2" class="hidden">
      <button id="" class="answerButton">Neutral</button>
      <button id="" class="answerButton">Coloured</button>
      <button id="" class="answerButton">Link</button>
    </div>
    <div id="answerLevel3" class="hidden">
      <button id="" class="answerButton">Default</button>
      <button id="" class="answerButton">Subtle</button>
      <button id="" class="answerButton">Disabled</button>
      <button id="" class="answerButton">
        Inversed (Used on bold backgrounds)
      </button>
    </div>
  </div>
</div>

<script>
  //Waits for the HTMl to fully load
  document.addEventListener("DOMContentLoaded", () => {
    // Text tokens question blocks
    const questionLevel1 = document.getElementById("questionLevel1");
    const questionLevel2 = document.getElementById("questionLevel2");
    const questionLevel3 = document.getElementById("questionLevel3");

    // Text answer blocks
    const answerLevel1 = document.getElementById("answerLevel1");
    const answerLevel2 = document.getElementById("answerLevel2");
    const answerLevel3 = document.getElementById("answerLevel3");

    // --- Question Buttons (for Back functionality) ---
    const questionButton1 = document.getElementById("questionButton1");
    const questionButton2 = document.getElementById("questionButton2");
    const questionButton3 = document.getElementById("questionButton3");

    // spans to show selected answers
    const question1AnswerSpan =
      questionLevel1?.querySelector(".selectedAnswer");
    const question2AnswerSpan =
      questionLevel2?.querySelector(".selectedAnswer");
    const question3AnswerSpan =
      questionLevel3?.querySelector(".selectedAnswer");

    const resetButton = document.getElementById("resetButton");

    // Helper function to manage visibility classes
    function setVisibility(element, show) {
      if (element) {
        if (show) {
          element.classList.remove("hidden");
          element.classList.add("visible");
        } else {
          element.classList.add("hidden");
          element.classList.remove("visible");
        }
      }
    }

    let currentLevel = 1; // Keep track of the current question level
    const answerContainer = document.getElementById("right"); //get the container element

    //Combined Event Listener for Answer Levels
    answerContainer.addEventListener("click", function (event) {
      const clickedElement = event.target;
      if (clickedElement.classList.contains("answerButton")) {
        const selectedAnswerText = clickedElement.textContent;
        let targetQuestionSpan = null;

        if (clickedElement.parentNode === answerLevel1) {
          targetQuestionSpan = question1AnswerSpan;
          setVisibility(answerLevel1, false);
          setVisibility(questionLevel2, true);
          setVisibility(answerLevel2, true);
          currentLevel = 2;
        } else if (clickedElement.parentNode === answerLevel2) {
          targetQuestionSpan = question2AnswerSpan;
          setVisibility(answerLevel2, false);
          setVisibility(questionLevel3, true);
          setVisibility(answerLevel3, true);
          currentLevel = 3;
        } else if (clickedElement.parentNode === answerLevel3) {
          targetQuestionSpan = question3AnswerSpan;
          setVisibility(answerLevel3, false);
          console.log("Final Selection Path:");
          console.log(
            "Level 1:",
            question1AnswerSpan?.textContent.substring(2)
          );
          console.log(
            "Level 2:",
            question2AnswerSpan?.textContent.substring(2)
          );
          console.log(
            "Level 3:",
            question3AnswerSpan?.textContent.substring(2)
          );
        }

        if (targetQuestionSpan) {
          targetQuestionSpan.textContent = `- ${selectedAnswerText}`;
          setVisibility(targetQuestionSpan, true);
        }
      }
    });

    //Event Listeners for Question Buttons (Back Functionality)
    questionButton1?.addEventListener("click", () => {
      if (currentLevel > 1) {
        setVisibility(answerLevel2, false);
        setVisibility(questionLevel2, false);
        setVisibility(questionLevel1, true);
        setVisibility(answerLevel1, true);
        question1AnswerSpan.textContent = "";
        setVisibility(question1AnswerSpan, false);
        currentLevel = 1;
      }
    });

    questionButton2?.addEventListener("click", () => {
      if (currentLevel > 2) {
        setVisibility(answerLevel3, false);
        setVisibility(questionLevel3, false);
        setVisibility(questionLevel2, true);
        setVisibility(answerLevel2, true);
        question2AnswerSpan.textContent = "";
        setVisibility(question2AnswerSpan, false);
        currentLevel = 2;
      }
    });
    questionButton3?.addEventListener("click", () => {
      if (currentLevel > 3) {
        setVisibility(answerLevel3, false);
        setVisibility(questionLevel3, false);
        question3AnswerSpan.textContent = "";
        setVisibility(question3AnswerSpan, false);
        currentLevel = 3;
      }
    });

    resetButton.addEventListener("click", () => {
      currentLevel = 1;
      setVisibility(questionLevel1, true);
      setVisibility(answerLevel1, true);
      setVisibility(questionLevel2, false);
      setVisibility(answerLevel2, false);
      setVisibility(questionLevel3, false);
      setVisibility(answerLevel3, false);
      question1AnswerSpan.textContent = "";
      setVisibility(question1AnswerSpan, false);
      question2AnswerSpan.textContent = "";
      setVisibility(question2AnswerSpan, false);
      question3AnswerSpan.textContent = "";
      setVisibility(question3AnswerSpan, false);
    });
  });
</script>
